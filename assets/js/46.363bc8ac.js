(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{507:function(t,e,s){"use strict";s.r(e);var o=s(20),r=Object(o.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("BackWikiBtn",{attrs:{id:"opq-wiki"}}),t._v(" "),s("h3",{attrs:{id:"正向-反向websocket介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#正向-反向websocket介绍"}},[t._v("#")]),t._v(" 正向/反向WebSocket介绍")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("框架内置了SoocketIO客户端和服务端以及WebSocket客户端和服务端,在配合WebApi很容易开发出自己熟悉语言的第三方框架,SocketIO是对Websocket的一种实现,因为内置了一些事件集合,管理起来也比较方便,内置心跳等, SocketIO协议类似[CMD Playloads]有兴趣的小伙伴可以自己研究一下")])])]),t._v(" "),s("h4",{attrs:{id:"框架作为websocket服务端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#框架作为websocket服务端"}},[t._v("#")]),t._v(" 框架作为Websocket服务端:")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("默认的Websocket服务端和WebApi同一个地址绑定 也就是说是和用户配置的"),s("code",[t._v("CoreConf.conf")]),t._v('文件里的 Port = "0.0.0.0:8888"监听地址绑定的 自然Websocket服务器地址就是0.0.0.0:8888 暂时不支持wss协议')])]),t._v(" "),s("li",[s("strong",[t._v("链接地址 ws://0.0.0.0:8888/ws")])])]),t._v(" "),s("h4",{attrs:{id:"框架作为websocket客户端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#框架作为websocket客户端"}},[t._v("#")]),t._v(" 框架作为WebSocket客户端:")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("默认是不启用的通过配置"),s("code",[t._v("CoreConf.conf")]),t._v('文件里的 SocketIOUrl = "ws://127.0.0.1:8081/ws" 来启用')])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("这时框架会主动链接你的WebSocket的服务器并且带有断线重连功能")])])])]),t._v(" "),s("h4",{attrs:{id:"框架作为socketio服务端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#框架作为socketio服务端"}},[t._v("#")]),t._v(" 框架作为SocketIO服务端:")]),t._v(" "),s("p",[s("strong",[t._v("框架提供了3种Event:OnGroupMsgs,OnFriendMsgs,OnEvents")])]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("OnGroupMsgs  收到群消息会推送到OnGroupMsgs")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("OnFriendMsgs 收到好友消息会推送到OnFriendMsgs")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("OnEvents     收到QQ的各种事件 如有人进群退群,网络变化事件都会推送到OnEvents")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("默认的SocketIO服务端和WebApi同一个地址绑定 也就是说是和用户配置的"),s("code",[t._v("CoreConf.conf")]),t._v('文件里的 Port = "0.0.0.0:8888"监听地址绑定的 自然SocketIO服务器地址就是0.0.0.0:8888 暂时不支持wss协议')])])])]),t._v(" "),s("h4",{attrs:{id:"框架作为socketio客户端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#框架作为socketio客户端"}},[t._v("#")]),t._v(" 框架作为SocketIO客户端:")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("默认是不启用的通过配置"),s("code",[t._v("CoreConf.conf")]),t._v('文件里的 SocketIOUrl = "ws://127.0.0.1:8081/socket.io/?EIO=3&transport=websocket" 来启用')])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("当然也可以连接你的原生Websocket,这时你的服务器收到的内容就是类似[CMD Playloads]这个了,并且你还要实现一下心跳ping/pong不然不会长时间连接,还是建议连接SocketIO服务器哦")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("这个功能为内网用户提供了方便,免去了端口映射,安全性也增加了")])])])]),t._v(" "),s("hr")],1)}),[],!1,null,null,null);e.default=r.exports}}]);