(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{400:function(t,o,e){"use strict";e.r(o);var s=e(28),n=Object(s.a)({},(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("BackWikiBtn"),t._v(" "),e("h3",{attrs:{id:"正向-反向websocket介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#正向-反向websocket介绍"}},[t._v("#")]),t._v(" 正向/反向WebSocket介绍")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("框架内置了SoocketIO客户端和服务端,在配合WebApi很容易开发出自己熟悉语言的第三方框架,SocketIO是对Websocket的一种实现,因为内置了一些事件集合,管理起来也比较方便,内置心跳等,所以就没有选用原生的WebSocket, SocketIO协议类似[CMD Playloads]有兴趣的小伙伴可以自己研究一下,下面将从框架作为SocketIO服务端和客户端2种情况介绍")])])]),t._v(" "),e("h4",{attrs:{id:"框架作为socketio服务端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#框架作为socketio服务端"}},[t._v("#")]),t._v(" 框架作为SocketIO服务端:")]),t._v(" "),e("p",[e("strong",[t._v("最开始是1Q1个连接当访问GetWebConn是会强制下线其他当连接,现在完全取消了并且支持多客户端广播 一个SocketIO客户端会同时收到所有已登陆QQ的消息和事件")])]),t._v(" "),e("p",[e("strong",[t._v("框架提供了3种Event:OnGroupMsgs,OnFriendMsgs,OnEvents")])]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("OnGroupMsgs  收到群消息会推送到OnGroupMsgs")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("OnFriendMsgs 收到好友消息会推送到OnFriendMsgs")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("OnEvents     收到QQ的各种事件 如有人进群退群,网络变化事件都会推送到OnEvents")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("默认的SocketIO服务端和WebApi同一个地址绑定 也就是说是和用户配置的"),e("code",[t._v("CoreConf.conf")]),t._v('文件里的 Port = "0.0.0.0:8888"监听地址绑定的 自然SocketIO服务器地址就是0.0.0.0:8888 暂时不支持wss协议')])])])]),t._v(" "),e("h4",{attrs:{id:"框架作为socketio客户端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#框架作为socketio客户端"}},[t._v("#")]),t._v(" 框架作为SocketIO客户端:")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("默认是不启用的通过配置"),e("code",[t._v("CoreConf.conf")]),t._v('文件里的 SocketIOUrl = "ws://127.0.0.1:8081/socket.io/?EIO=3&transport=websocket" 来启用')])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("当然也可以连接你的原生Websocket,这时你的服务器收到的内容就是类似[CMD Playloads]这个了,并且你还要实现一下心跳ping/pong不然不会长时间连接,还是建议连接SocketIO服务器哦")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("这个功能为内网用户提供了方便,免去了端口映射,安全性也增加了")])])])]),t._v(" "),e("hr")],1)}),[],!1,null,null,null);o.default=n.exports}}]);