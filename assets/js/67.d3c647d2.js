(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{443:function(e,a,t){"use strict";t.r(a);var n=t(28),s=Object(n.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("BackWikiBtn",{attrs:{id:"opq-wiki"}}),e._v(" "),t("h2",{attrs:{id:"lua-获取方式如下"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lua-获取方式如下"}},[e._v("#")]),e._v(" Lua 获取方式如下")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('function ReceiveGroupMsg(CurrentQQ, data)\n       if data.MsgType == "GroupFileMsg" then\n        --MsgType GroupFileMsg\n        --Content {"FileID":"10b0402d-bfbf-4886-8dd1-38fce7f25766","FileName":"QQ录屏20200601223847.mp4","FileSize":14689605,"Tips":"[群文件]"}\n        file = json.decode(data.Content)\n        res =\n            Api.Api_CallFunc(\n            CurrentQQ,\n            "OidbSvc.0x6d6_2",\n            {\n                GroupID = data.FromGroupId,\n                FileID = file.FileID\n            }\n        )\n        log.notice(" FileUrl Log\\n%s", res.Url)\n    end\n\n    return 1\nend\n')])])]),t("h2",{attrs:{id:"webapi-获取方式如下"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webapi-获取方式如下"}},[e._v("#")]),e._v(" WebApi 获取方式如下")]),e._v(" "),t("p",[e._v("URL:  http://127.0.0.1:8888/v1/LuaApiCaller")]),e._v(" "),t("h5",{attrs:{id:"请求信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#请求信息"}},[e._v("#")]),e._v(" 请求信息:")]),e._v(" "),t("p",[e._v("params:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("{\n'qq': 123456789,  #bot的QQ\n'funcname': 'OidbSvc.0x6d6_2'\n}\n")])])]),t("p",[e._v("body(json):")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n\'GroupID\':123456 #文件来源的群号\n"FileID":"36615b65f95b09df4de35ea1c783c368_86e0deb3-9794-4f05-aef9-d0065552b2b0"\n}\n')])])]),t("p",[e._v("response(json)")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n"Ret": 0,\n"Url": "http://tj-ctfs.ftn.qq.com/ftn_handler/c532fe6873b021ca317bbc0c513f8a0481ad69fadde14c94e37e2a57a6ffec8fdeec003af68c35b420ffebc00072a63fea66bd7a7adfd5f609ead4c12d7d2e91"\n}\n')])])]),t("p",[t("strong",[e._v("得到文件的Url 和文件名 正常下载保存即可")])])],1)}),[],!1,null,null,null);a.default=s.exports}}]);